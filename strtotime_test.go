package utils_test

import (
	"fmt"
	"testing"
	"time"

	"github.com/kidy-go/utils"
)

func TestIsTimestamp(t *testing.T) {
	var examples = []struct {
		timestr      string
		expected     bool
		expectedTime string
	}{
		{"2019-01-01", false, ""},
		{"2019-01-01 00:00:00", false, ""},
		{"2019-01-01 00:00:00.000", false, ""},
		{"2019-01-01 00:00:00.000000", false, ""},
		{"2019-01-01 00:00:00.000000000", false, ""},
		{"2019-01-01 00:00:00.000000000+08:00", false, ""},
		{"2019-01-01 00:00:00.000000000+0800", false, ""},
		{"2019-01-01 00:00:00.000000000+08", false, ""},
		{"2019-01-01 00:00:00.000000000+8", false, ""},
		{"2019-01-01 00:00:00.000000000+080000", false, ""},
		{"1", true, "1970-01-01 00:00:01.000000000 +0000 UTC"},
		{"1000000000", true, "2001-09-09 01:46:40.000000000 +0000 UTC"},
		{"0.123456789", true, "1970-01-01 00:00:00.123456789 +0000 UTC"},
		{"0.12345678 1", true, "1970-01-01 00:00:01.123456780 +0000 UTC"},
		{"1715224735", true, "2024-05-09 03:18:55.000000000 +0000 UTC"},
		{"1715224735123", true, "2024-05-09 03:18:55.123000000 +0000 UTC"},
		{"1715224735123456", true, "2024-05-09 03:18:55.123456000 +0000 UTC"},
		{"1715224735123456789", true, "2024-05-09 03:18:55.123456789 +0000 UTC"},
		{"-1715224735", true, "1915-08-25 20:41:05.000000000 +0000 UTC"},
		{"0.123456789 1715224735", true, "2024-05-09 03:18:55.123456789 +0000 UTC"},
		{"0.12345678 1715224735", true, "2024-05-09 03:18:55.123456780 +0000 UTC"},
		{"0.1234567 1715224735", true, "2024-05-09 03:18:55.123456700 +0000 UTC"},
		{"0.123456 1715224735", true, "2024-05-09 03:18:55.123456000 +0000 UTC"},
		{"0.12345 1715224735", true, "2024-05-09 03:18:55.123450000 +0000 UTC"},
		{"0.1234 1715224735", true, "2024-05-09 03:18:55.123400000 +0000 UTC"},
		{"0.123 1715224735", true, "2024-05-09 03:18:55.123000000 +0000 UTC"},
		{"0.12 1715224735", true, "2024-05-09 03:18:55.120000000 +0000 UTC"},
		{"0.1 1715224735", true, "2024-05-09 03:18:55.100000000 +0000 UTC"},
		{"1 1715224735", true, "2024-05-09 03:18:55.100000000 +0000 UTC"},
		{"12 1715224735", true, "2024-05-09 03:18:55.120000000 +0000 UTC"},
		{"1715224735.000000000", true, "2024-05-09 03:18:55.000000000 +0000 UTC"},
	}

	for _, ts := range examples {
		t.Run(ts.timestr, func(t *testing.T) {
			ok, tm := utils.IsTimestamp(ts.timestr)
			if ok != ts.expected {
				t.Errorf("Expected %v, but got %v", ts.expected, ok)
			}
			if ok {
				tm = tm.UTC()
				tfmt := tm.Format("2006-01-02 15:04:05.000000000 -0700 MST")
				if tfmt != ts.expectedTime {
					t.Errorf("Timestamp %s Expected %v, but got %v", ts.timestr, ts.expectedTime, tfmt)
				}
			}
		})
	}
}

func TestStrToTime(t *testing.T) {
	var examples = []struct {
		in  string
		out string
	}{
		// {in: "oct 7, 1970", out: "1970-10-07 00:00:00 +0000 UTC"},
		// {in: "oct 7, '70", out: "1970-10-07 00:00:00 +0000 UTC"},
		// {in: "Oct 7, '70", out: "1970-10-07 00:00:00 +0000 UTC"},
		// {in: "Oct. 7, '70", out: "1970-10-07 00:00:00 +0000 UTC"},
		// {in: "oct. 7, '70", out: "1970-10-07 00:00:00 +0000 UTC"},
		// {in: "oct. 7, 1970", out: "1970-10-07 00:00:00 +0000 UTC"},
		// {in: "Sept. 7, '70", out: "1970-09-07 00:00:00 +0000 UTC"},
		// {in: "sept. 7, 1970", out: "1970-09-07 00:00:00 +0000 UTC"},
		// {in: "Feb 8, 2009 5:57:51 AM", out: "2009-02-08 05:57:51 +0000 UTC"},
		// {in: "May 8, 2009 5:57:51 PM", out: "2009-05-08 17:57:51 +0000 UTC"},
		// {in: "May 8, 2009 5:57:1 PM", out: "2009-05-08 17:57:01 +0000 UTC"},
		// {in: "May 8, 2009 5:7:51 PM", out: "2009-05-08 17:07:51 +0000 UTC"},
		// {in: "May 8, 2009, 5:7:51 PM", out: "2009-05-08 17:07:51 +0000 UTC"},
		// {in: "7 oct 70", out: "1970-10-07 00:00:00 +0000 UTC"},
		// {in: "7 oct 1970", out: "1970-10-07 00:00:00 +0000 UTC"},
		// {in: "7 May 1970", out: "1970-05-07 00:00:00 +0000 UTC"},
		// {in: "7 Sep 1970", out: "1970-09-07 00:00:00 +0000 UTC"},
		// {in: "7 June 1970", out: "1970-06-07 00:00:00 +0000 UTC"},
		// {in: "7 September 1970", out: "1970-09-07 00:00:00 +0000 UTC"},
		// //   ANSIC       = "Mon Jan _2 15:04:05 2006"
		// {in: "Mon Jan  2 15:04:05 2006", out: "2006-01-02 15:04:05 +0000 UTC"},
		// {in: "Thu May 8 17:57:51 2009", out: "2009-05-08 17:57:51 +0000 UTC"},
		// {in: "Thu May  8 17:57:51 2009", out: "2009-05-08 17:57:51 +0000 UTC"},
		// //   ANSIC_GLIBC = "Mon 02 Jan 2006 03:04:05 PM UTC"
		// {in: "Mon 02 Jan 2006 03:04:05 PM UTC", out: "2006-01-02 15:04:05 +0000 UTC"},
		// {in: "Mon 30 Sep 2018 09:09:09 PM UTC", out: "2018-09-30 21:09:09 +0000 UTC"},
		// // RubyDate    = "Mon Jan 02 15:04:05 -0700 2006"
		// {in: "Mon Jan 02 15:04:05 -0700 2006", out: "2006-01-02 22:04:05 +0000 UTC"},
		// {in: "Thu May 08 11:57:51 -0700 2009", out: "2009-05-08 18:57:51 +0000 UTC"},
		// //   UnixDate    = "Mon Jan _2 15:04:05 MST 2006"
		// {in: "Mon Jan  2 15:04:05 MST 2006", out: "2006-01-02 15:04:05 +0000 UTC"},
		// {in: "Thu May  8 17:57:51 MST 2009", out: "2009-05-08 17:57:51 +0000 UTC"},
		// {in: "Thu May  8 17:57:51 PST 2009", out: "2009-05-08 17:57:51 +0000 UTC"},
		// {in: "Thu May 08 17:57:51 PST 2009", out: "2009-05-08 17:57:51 +0000 UTC"},
		// {in: "Thu May 08 17:57:51 CEST 2009", out: "2009-05-08 17:57:51 +0000 UTC"},
		// {in: "Thu May 08 05:05:07 PST 2009", out: "2009-05-08 05:05:07 +0000 UTC"},
		// {in: "Thu May 08 5:5:7 PST 2009", out: "2009-05-08 05:05:07 +0000 UTC"},
		// // Day Month dd time
		// {in: "Mon Aug 10 15:44:11 UTC+0000 2015", out: "2015-08-10 15:44:11 +0000 UTC"},
		// {in: "Mon Aug 10 15:44:11 PST-0700 2015", out: "2015-08-10 22:44:11 +0000 UTC"},
		// {in: "Mon Aug 10 15:44:11 CEST+0200 2015", out: "2015-08-10 13:44:11 +0000 UTC"},
		// {in: "Mon Aug 1 15:44:11 CEST+0200 2015", out: "2015-08-01 13:44:11 +0000 UTC"},
		// {in: "Mon Aug 1 5:44:11 CEST+0200 2015", out: "2015-08-01 03:44:11 +0000 UTC"},
		// // ??
		// {in: "Fri Jul 03 2015 18:04:07 GMT+0100 (GMT Daylight Time)", out: "2015-07-03 17:04:07 +0000 UTC"},
		// {in: "Fri Jul 3 2015 06:04:07 GMT+0100 (GMT Daylight Time)", out: "2015-07-03 05:04:07 +0000 UTC"},
		// {in: "Fri Jul 3 2015 06:04:07 PST-0700 (Pacific Daylight Time)", out: "2015-07-03 13:04:07 +0000 UTC"},
		// // Month dd, yyyy at time
		// {in: "September 17, 2012 at 5:00pm UTC-05", out: "2012-09-17 17:00:00 +0000 UTC"},
		// {in: "September 17, 2012 at 10:09am PST-08", out: "2012-09-17 18:09:00 +0000 UTC"},
		// {in: "September 17, 2012, 10:10:09", out: "2012-09-17 10:10:09 +0000 UTC"},
		// {in: "May 17, 2012 at 10:09am PST-08", out: "2012-05-17 18:09:00 +0000 UTC"},
		// {in: "May 17, 2012 AT 10:09am PST-08", out: "2012-05-17 18:09:00 +0000 UTC"},
		// // Month dd, yyyy time
		// {in: "September 17, 2012 5:00pm UTC-05", out: "2012-09-17 17:00:00 +0000 UTC"},
		// {in: "September 17, 2012 10:09am PST-08", out: "2012-09-17 18:09:00 +0000 UTC"},
		// {in: "September 17, 2012 09:01:00", out: "2012-09-17 09:01:00 +0000 UTC"},
		// // Month dd yyyy time
		// {in: "September 17 2012 5:00pm UTC-05", out: "2012-09-17 17:00:00 +0000 UTC"},
		// {in: "September 17 2012 5:00pm UTC-0500", out: "2012-09-17 17:00:00 +0000 UTC"},
		// {in: "September 17 2012 10:09am PST-08", out: "2012-09-17 18:09:00 +0000 UTC"},
		// {in: "September 17 2012 5:00PM UTC-05", out: "2012-09-17 17:00:00 +0000 UTC"},
		// {in: "September 17 2012 10:09AM PST-08", out: "2012-09-17 18:09:00 +0000 UTC"},
		// {in: "September 17 2012 09:01:00", out: "2012-09-17 09:01:00 +0000 UTC"},
		// {in: "May 17, 2012 10:10:09", out: "2012-05-17 10:10:09 +0000 UTC"},
		// // Month dd, yyyy
		// {in: "September 17, 2012", out: "2012-09-17 00:00:00 +0000 UTC"},
		// {in: "May 7, 2012", out: "2012-05-07 00:00:00 +0000 UTC"},
		// {in: "June 7, 2012", out: "2012-06-07 00:00:00 +0000 UTC"},
		// {in: "June 7 2012", out: "2012-06-07 00:00:00 +0000 UTC"},
		// // Month dd[th,nd,st,rd] yyyy
		// {in: "September 17th, 2012", out: "2012-09-17 00:00:00 +0000 UTC"},
		// {in: "September 17th 2012", out: "2012-09-17 00:00:00 +0000 UTC"},
		// {in: "September 7th, 2012", out: "2012-09-07 00:00:00 +0000 UTC"},
		// {in: "September 7th 2012", out: "2012-09-07 00:00:00 +0000 UTC"},
		// {in: "September 7tH 2012", out: "2012-09-07 00:00:00 +0000 UTC"},
		// {in: "May 1st 2012", out: "2012-05-01 00:00:00 +0000 UTC"},
		// {in: "May 1st, 2012", out: "2012-05-01 00:00:00 +0000 UTC"},
		// {in: "May 21st 2012", out: "2012-05-21 00:00:00 +0000 UTC"},
		// {in: "May 21st, 2012", out: "2012-05-21 00:00:00 +0000 UTC"},
		// {in: "May 23rd 2012", out: "2012-05-23 00:00:00 +0000 UTC"},
		// {in: "May 23rd, 2012", out: "2012-05-23 00:00:00 +0000 UTC"},
		// {in: "June 2nd, 2012", out: "2012-06-02 00:00:00 +0000 UTC"},
		// {in: "June 2nd 2012", out: "2012-06-02 00:00:00 +0000 UTC"},
		// {in: "June 22nd, 2012", out: "2012-06-22 00:00:00 +0000 UTC"},
		// {in: "June 22nd 2012", out: "2012-06-22 00:00:00 +0000 UTC"},
		// // RFC1123     = "Mon, 02 Jan 2006 15:04:05 MST"
		// {in: "Fri, 03 Jul 2015 08:08:08 MST", out: "2015-07-03 08:08:08 +0000 UTC"},
		// //{in: "Fri, 03 Jul 2015 08:08:08 CET", out: "2015-07-03 08:08:08 +0000 UTC"},
		// {in: "Fri, 03 Jul 2015 08:08:08 PST", out: "2015-07-03 16:08:08 +0000 UTC"},
		// {in: "Fri, 03 Jul 2015 08:08:08 PST", out: "2015-07-03 08:08:08 +0000 UTC"},
		// {in: "Fri, 3 Jul 2015 08:08:08 MST", out: "2015-07-03 08:08:08 +0000 UTC"},
		// {in: "Fri, 03 Jul 2015 8:08:08 MST", out: "2015-07-03 08:08:08 +0000 UTC"},
		// {in: "Fri, 03 Jul 2015 8:8:8 MST", out: "2015-07-03 08:08:08 +0000 UTC"},
		// // ?
		// {in: "Thu, 03 Jul 2017 08:08:04 +0100", out: "2017-07-03 07:08:04 +0000 UTC"},
		// {in: "Thu, 03 Jul 2017 08:08:04 -0100", out: "2017-07-03 09:08:04 +0000 UTC"},
		// {in: "Thu, 3 Jul 2017 08:08:04 +0100", out: "2017-07-03 07:08:04 +0000 UTC"},
		// {in: "Thu, 03 Jul 2017 8:08:04 +0100", out: "2017-07-03 07:08:04 +0000 UTC"},
		// {in: "Thu, 03 Jul 2017 8:8:4 +0100", out: "2017-07-03 07:08:04 +0000 UTC"},
		// //
		// {in: "Tue, 11 Jul 2017 04:08:03 +0200 (CEST)", out: "2017-07-11 02:08:03 +0000 UTC"},
		// {in: "Tue, 5 Jul 2017 04:08:03 -0700 (CEST)", out: "2017-07-05 11:08:03 +0000 UTC"},
		// {in: "Tue, 11 Jul 2017 04:08:03 +0200 (CEST)", out: "2017-07-11 02:08:03 +0000 UTC"},
		// // day, dd-Mon-yy hh:mm:zz TZ
		// {in: "Fri, 03-Jul-15 08:08:08 MST", out: "2015-07-03 08:08:08 +0000 UTC"},
		// {in: "Fri, 03-Jul-15 08:08:08 PST", out: "2015-07-03 16:08:08 +0000 UTC"},
		// {in: "Fri, 03-Jul 2015 08:08:08 PST", out: "2015-07-03 08:08:08 +0000 UTC"},
		// {in: "Fri, 3-Jul-15 08:08:08 MST", out: "2015-07-03 08:08:08 +0000 UTC"},
		// {in: "Fri, 03-Jul-15 8:08:08 MST", out: "2015-07-03 08:08:08 +0000 UTC"},
		// {in: "Fri, 03-Jul-15 8:8:8 MST", out: "2015-07-03 08:08:08 +0000 UTC"},
		// // day, dd-Mon-yy hh:mm:zz TZ (text) https://github.com/araddon/dateparse/issues/116
		// {in: "Sun, 3 Jan 2021 00:12:23 +0800 (GMT+08:00)", out: "2021-01-02 16:12:23 +0000 UTC"},
		// // RFC850    = "Monday, 02-Jan-06 15:04:05 MST"
		// {in: "Wednesday, 07-May-09 08:00:43 MST", out: "2009-05-07 08:00:43 +0000 UTC"},
		// {in: "Wednesday, 28-Feb-18 09:01:00 MST", out: "2018-02-28 09:01:00 +0000 UTC"},
		// {in: "Wednesday, 28-Feb-18 09:01:00 MST", out: "2018-02-28 16:01:00 +0000 UTC"},
		// // with offset then with variations on non-zero filled stuff
		// {in: "Monday, 02 Jan 2006 15:04:05 +0100", out: "2006-01-02 14:04:05 +0000 UTC"},
		// {in: "Wednesday, 28 Feb 2018 09:01:00 -0300", out: "2018-02-28 12:01:00 +0000 UTC"},
		// {in: "Wednesday, 2 Feb 2018 09:01:00 -0300", out: "2018-02-02 12:01:00 +0000 UTC"},
		// {in: "Wednesday, 2 Feb 2018 9:01:00 -0300", out: "2018-02-02 12:01:00 +0000 UTC"},
		// {in: "Wednesday, 2 Feb 2018 09:1:00 -0300", out: "2018-02-02 12:01:00 +0000 UTC"},
		// //  dd mon yyyy  12 Feb 2006, 19:17:08
		// {in: "07 Feb 2004, 09:07", out: "2004-02-07 09:07:00 +0000 UTC"},
		// {in: "07 Feb 2004, 09:07:07", out: "2004-02-07 09:07:07 +0000 UTC"},
		// {in: "7 Feb 2004, 09:07:07", out: "2004-02-07 09:07:07 +0000 UTC"},
		// {in: "07 Feb 2004, 9:7:7", out: "2004-02-07 09:07:07 +0000 UTC"},
		// // dd Mon yyyy hh:mm:ss
		// {in: "07 Feb 2004 09:07:08", out: "2004-02-07 09:07:08 +0000 UTC"},
		// {in: "07 Feb 2004 09:07", out: "2004-02-07 09:07:00 +0000 UTC"},
		// {in: "7 Feb 2004 9:7:8", out: "2004-02-07 09:07:08 +0000 UTC"},
		// {in: "07 Feb 2004 09:07:08.123", out: "2004-02-07 09:07:08.123 +0000 UTC"},
		// //  dd-mon-yyyy  12 Feb 2006, 19:17:08 GMT
		// {in: "07 Feb 2004, 09:07:07 GMT", out: "2004-02-07 09:07:07 +0000 UTC"},
		// //  dd-mon-yyyy  12 Feb 2006, 19:17:08 +0100
		// {in: "07 Feb 2004, 09:07:07 +0100", out: "2004-02-07 08:07:07 +0000 UTC"},
		// //  dd-mon-yyyy   12-Feb-2006 19:17:08
		// {in: "07-Feb-2004 09:07:07 +0100", out: "2004-02-07 08:07:07 +0000 UTC"},
		// //  dd-mon-yy   12-Feb-2006 19:17:08
		// {in: "07-Feb-04 09:07:07 +0100", out: "2004-02-07 08:07:07 +0000 UTC"},
		// // yyyy-mon-dd    2013-Feb-03
		// {in: "2013-Feb-03", out: "2013-02-03 00:00:00 +0000 UTC"},
		// // 03 February 2013
		// {in: "03 February 2013", out: "2013-02-03 00:00:00 +0000 UTC"},
		// {in: "3 February 2013", out: "2013-02-03 00:00:00 +0000 UTC"},
		// // Chinese 2014年04月18日
		// {in: "2014年04月08日", out: "2014-04-08 00:00:00 +0000 UTC"},
		// {in: "2014年04月08日 19:17:22", out: "2014-04-08 19:17:22 +0000 UTC"},
		// //  mm/dd/yyyy
		// {in: "03/31/2014", out: "2014-03-31 00:00:00 +0000 UTC"},
		// {in: "3/31/2014", out: "2014-03-31 00:00:00 +0000 UTC"},
		// {in: "3/5/2014", out: "2014-03-05 00:00:00 +0000 UTC"},
		// //  mm/dd/yy
		// {in: "08/08/71", out: "1971-08-08 00:00:00 +0000 UTC"},
		// {in: "8/8/71", out: "1971-08-08 00:00:00 +0000 UTC"},
		// //  mm/dd/yy hh:mm:ss
		// {in: "04/02/2014 04:08:09", out: "2014-04-02 04:08:09 +0000 UTC"},
		// {in: "4/2/2014 04:08:09", out: "2014-04-02 04:08:09 +0000 UTC"},
		// {in: "04/02/2014 4:08:09", out: "2014-04-02 04:08:09 +0000 UTC"},
		// {in: "04/02/2014 4:8:9", out: "2014-04-02 04:08:09 +0000 UTC"},
		// {in: "04/02/2014 04:08", out: "2014-04-02 04:08:00 +0000 UTC"},
		// {in: "04/02/2014 4:8", out: "2014-04-02 04:08:00 +0000 UTC"},
		// {in: "04/02/2014 04:08:09.123", out: "2014-04-02 04:08:09.123 +0000 UTC"},
		// {in: "04/02/2014 04:08:09.12312", out: "2014-04-02 04:08:09.12312 +0000 UTC"},
		// {in: "04/02/2014 04:08:09.123123", out: "2014-04-02 04:08:09.123123 +0000 UTC"},
		// //  mm:dd:yy hh:mm:ss
		// {in: "04:02:2014 04:08:09", out: "2014-04-02 04:08:09 +0000 UTC"},
		// {in: "4:2:2014 04:08:09", out: "2014-04-02 04:08:09 +0000 UTC"},
		// {in: "04:02:2014 4:08:09", out: "2014-04-02 04:08:09 +0000 UTC"},
		// {in: "04:02:2014 4:8:9", out: "2014-04-02 04:08:09 +0000 UTC"},
		// {in: "04:02:2014 04:08", out: "2014-04-02 04:08:00 +0000 UTC"},
		// {in: "04:02:2014 4:8", out: "2014-04-02 04:08:00 +0000 UTC"},
		// {in: "04:02:2014 04:08:09.123", out: "2014-04-02 04:08:09.123 +0000 UTC"},
		// {in: "04:02:2014 04:08:09.12312", out: "2014-04-02 04:08:09.12312 +0000 UTC"},
		// {in: "04:02:2014 04:08:09.123123", out: "2014-04-02 04:08:09.123123 +0000 UTC"},
		// //  mm/dd/yy hh:mm:ss AM
		// {in: "04/02/2014 04:08:09 AM", out: "2014-04-02 04:08:09 +0000 UTC"},
		// {in: "04/02/2014 04:08:09 PM", out: "2014-04-02 16:08:09 +0000 UTC"},
		// {in: "04/02/2014 04:08 AM", out: "2014-04-02 04:08:00 +0000 UTC"},
		// {in: "04/02/2014 04:08 PM", out: "2014-04-02 16:08:00 +0000 UTC"},
		// {in: "04/02/2014 4:8 AM", out: "2014-04-02 04:08:00 +0000 UTC"},
		// {in: "04/02/2014 4:8 PM", out: "2014-04-02 16:08:00 +0000 UTC"},
		// {in: "04/02/2014 04:08:09.123 AM", out: "2014-04-02 04:08:09 +0000 UTC"},
		// {in: "04/02/2014 04:08:09.123 PM", out: "2014-04-02 16:08:09 +0000 UTC"},
		// //   yyyy/mm/dd
		// {in: "2014/04/02", out: "2014-04-02 00:00:00 +0000 UTC"},
		// {in: "2014/03/31", out: "2014-03-31 00:00:00 +0000 UTC"},
		// {in: "2014/4/2", out: "2014-04-02 00:00:00 +0000 UTC"},
		// //   yyyy/mm/dd hh:mm:ss AM
		// {in: "2014/04/02 04:08", out: "2014-04-02 04:08:00 +0000 UTC"},
		// {in: "2014/03/31 04:08", out: "2014-03-31 04:08:00 +0000 UTC"},
		// {in: "2014/4/2 04:08", out: "2014-04-02 04:08:00 +0000 UTC"},
		// {in: "2014/04/02 4:8", out: "2014-04-02 04:08:00 +0000 UTC"},
		// {in: "2014/04/02 04:08:09", out: "2014-04-02 04:08:09 +0000 UTC"},
		// {in: "2014/03/31 04:08:09", out: "2014-03-31 04:08:09 +0000 UTC"},
		// {in: "2014/4/2 04:08:09", out: "2014-04-02 04:08:09 +0000 UTC"},
		// {in: "2014/04/02 04:08:09.123", out: "2014-04-02 04:08:09 +0000 UTC"},
		// {in: "2014/04/02 04:08:09.123123", out: "2014-04-02 04:08:09 +0000 UTC"},
		// {in: "2014/04/02 04:08:09 AM", out: "2014-04-02 04:08:09 +0000 UTC"},
		// {in: "2014/03/31 04:08:09 AM", out: "2014-03-31 04:08:09 +0000 UTC"},
		// {in: "2014/4/2 04:08:09 AM", out: "2014-04-02 04:08:09 +0000 UTC"},
		// {in: "2014/04/02 04:08:09.123 AM", out: "2014-04-02 04:08:09 +0000 UTC"},
		// {in: "2014/04/02 04:08:09.123 PM", out: "2014-04-02 16:08:09 +0000 UTC"},
		// // dd/mon/yyyy:hh:mm:ss tz  nginx-log?    https://github.com/araddon/dateparse/issues/118
		// // 112.195.209.90 - - [20/Feb/2018:12:12:14 +0800] "GET / HTTP/1.1" 200 190 "-" "Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Mobile Safari/537.36" "-"
		// {in: "06/May/2008:08:11:17 -0700", out: "2008-05-06 15:11:17 +0000 UTC"},
		// {in: "30/May/2008:08:11:17 -0700", out: "2008-05-30 15:11:17 +0000 UTC"},
		// // dd/mon/yyy hh:mm:ss tz
		// {in: "06/May/2008:08:11:17 -0700", out: "2008-05-06 15:11:17 +0000 UTC"},
		// {in: "30/May/2008:08:11:17 -0700", out: "2008-05-30 15:11:17 +0000 UTC"},
		// //   yyyy-mm-dd
		// {in: "2014-04-02", out: "2014-04-02 00:00:00 +0000 UTC"},
		// {in: "2014-03-31", out: "2014-03-31 00:00:00 +0000 UTC"},
		// {in: "2014-4-2", out: "2014-04-02 00:00:00 +0000 UTC"},
		// //   yyyy-mm-dd-07:00
		// {in: "2020-07-20+08:00", out: "2020-07-19 16:00:00 +0000 UTC"},
		// {in: "2020-07-20+0800", out: "2020-07-19 16:00:00 +0000 UTC"},
		// //   dd-mmm-yy
		// {in: "28-Feb-02", out: "2002-02-28 00:00:00 +0000 UTC"},
		// {in: "15-Jan-18", out: "2018-01-15 00:00:00 +0000 UTC"},
		// {in: "15-Jan-2017", out: "2017-01-15 00:00:00 +0000 UTC"},
		// // yyyy-mm
		// {in: "2014-04", out: "2014-04-01 00:00:00 +0000 UTC"},
		// //   yyyy-mm-dd hh:mm:ss AM
		// {in: "2014-04-02 04:08", out: "2014-04-02 04:08:00 +0000 UTC"},
		// {in: "2014-03-31 04:08", out: "2014-03-31 04:08:00 +0000 UTC"},
		// {in: "2014-4-2 04:08", out: "2014-04-02 04:08:00 +0000 UTC"},
		// {in: "2014-04-02 4:8", out: "2014-04-02 04:08:00 +0000 UTC"},
		// {in: "2014-04-02 04:08:09", out: "2014-04-02 04:08:09 +0000 UTC"},
		// {in: "2014-03-31 04:08:09", out: "2014-03-31 04:08:09 +0000 UTC"},
		// {in: "2014-4-2 04:08:09", out: "2014-04-02 04:08:09 +0000 UTC"},
		// {in: "2014-04-02 04:08:09.123", out: "2014-04-02 04:08:09 +0000 UTC"},
		// {in: "2014-04-02 04:08:09.123123", out: "2014-04-02 04:08:09 +0000 UTC"},
		// {in: "2014-04-02 04:08:09.12312312", out: "2014-04-02 04:08:09 +0000 UTC"},
		// {in: "2014-04-02 04:08:09 AM", out: "2014-04-02 04:08:09 +0000 UTC"},
		// {in: "2014-03-31 04:08:09 AM", out: "2014-03-31 04:08:09 +0000 UTC"},
		// {in: "2014-04-26 05:24:37 PM", out: "2014-04-26 17:24:37 +0000 UTC"},
		// {in: "2014-4-2 04:08:09 AM", out: "2014-04-02 04:08:09 +0000 UTC"},
		// {in: "2014-04-02 04:08:09.123 AM", out: "2014-04-02 04:08:09 +0000 UTC"},
		// {in: "2014-04-02 04:08:09.123 PM", out: "2014-04-02 16:08:09 +0000 UTC"},
		// //   yyyy-mm-dd hh:mm:ss,000
		// {in: "2014-05-11 08:20:13,787", out: "2014-05-11 08:20:13 +0000 UTC"},
		// //   yyyy-mm-dd hh:mm:ss +0000
		// {in: "2012-08-03 18:31:59 +0000", out: "2012-08-03 18:31:59 +0000 UTC"},
		// {in: "2012-08-03 13:31:59 -0600", out: "2012-08-03 19:31:59 +0000 UTC"},
		// {in: "2012-08-03 18:31:59.257000000 +0000", out: "2012-08-03 18:31:59 +0000 UTC"},
		// {in: "2012-08-03 8:1:59.257000000 +0000", out: "2012-08-03 08:01:59 +0000 UTC"},
		// {in: "2012-8-03 18:31:59.257000000 +0000", out: "2012-08-03 18:31:59 +0000 UTC"},
		// {in: "2012-8-3 18:31:59.257000000 +0000", out: "2012-08-03 18:31:59 +0000 UTC"},
		// {in: "2014-04-26 17:24:37.123456 +0000", out: "2014-04-26 17:24:37 +0000 UTC"},
		// {in: "2014-04-26 17:24:37.12 +0000", out: "2014-04-26 17:24:37 +0000 UTC"},
		// {in: "2014-04-26 17:24:37.1 +0000", out: "2014-04-26 17:24:37 +0000 UTC"},
		// {in: "2014-05-11 08:20:13 +0000", out: "2014-05-11 08:20:13 +0000 UTC"},
		// {in: "2014-05-11 08:20:13 +0530", out: "2014-05-11 02:50:13 +0000 UTC"},
		// //   yyyy-mm-dd hh:mm:ss +0300 +03  ?? issue author said this is from golang?
		// {in: "2018-06-29 19:09:57.77297118 +0300 +03", out: "2018-06-29 16:09:57 +0000 UTC"},
		// {in: "2018-06-29 19:09:57.77297118 +0300 +0300", out: "2018-06-29 16:09:57 +0000 UTC"},
		// {in: "2018-06-29 19:09:57 +0300 +03", out: "2018-06-29 16:09:57 +0000 UTC"},
		// {in: "2018-06-29 19:09:57 +0300 +0300", out: "2018-06-29 16:09:57 +0000 UTC"},

		// // 13:31:51.999 -07:00 MST
		// //   yyyy-mm-dd hh:mm:ss +00:00
		// {in: "2012-08-03 18:31:59 +00:00", out: "2012-08-03 18:31:59 +0000 UTC"},
		// {in: "2014-05-01 08:02:13 +00:00", out: "2014-05-01 08:02:13 +0000 UTC"},
		// {in: "2014-5-01 08:02:13 +00:00", out: "2014-05-01 08:02:13 +0000 UTC"},
		// {in: "2014-05-1 08:02:13 +00:00", out: "2014-05-01 08:02:13 +0000 UTC"},
		// {in: "2012-08-03 13:31:59 -06:00", out: "2012-08-03 19:31:59 +0000 UTC"},
		// {in: "2012-08-03 18:31:59.257000000 +00:00", out: "2012-08-03 18:31:59 +0000 UTC"},
		// {in: "2012-08-03 8:1:59.257000000 +00:00", out: "2012-08-03 08:01:59 +0000 UTC"},
		// {in: "2012-8-03 18:31:59.257000000 +00:00", out: "2012-08-03 18:31:59 +0000 UTC"},
		// {in: "2012-8-3 18:31:59.257000000 +00:00", out: "2012-08-03 18:31:59 +0000 UTC"},
		// {in: "2014-04-26 17:24:37.123456 +00:00", out: "2014-04-26 17:24:37 +0000 UTC"},
		// {in: "2014-04-26 17:24:37.12 +00:00", out: "2014-04-26 17:24:37 +0000 UTC"},
		// {in: "2014-04-26 17:24:37.1 +00:00", out: "2014-04-26 17:24:37 +0000 UTC"},
		// //   yyyy-mm-dd hh:mm:ss +0000 TZ
		// // Golang Native Format
		// {in: "2012-08-03 18:31:59 +0000 UTC", out: "2012-08-03 18:31:59 +0000 UTC"},
		// {in: "2012-08-03 13:31:59 -0600 MST", out: "2012-08-03 19:31:59 +0000 UTC"},
		// {in: "2015-02-18 00:12:00 +0000 UTC", out: "2015-02-18 00:12:00 +0000 UTC"},
		// {in: "2015-02-18 00:12:00 +0000 GMT", out: "2015-02-18 00:12:00 +0000 UTC"},
		// {in: "2015-02-08 03:02:00 +0200 CEST", out: "2015-02-08 01:02:00 +0000 UTC"},
		// {in: "2015-02-08 03:02:00 +0300 MSK", out: "2015-02-08 00:02:00 +0000 UTC"},
		// {in: "2015-2-08 03:02:00 +0300 MSK", out: "2015-02-08 00:02:00 +0000 UTC"},
		// {in: "2015-02-8 03:02:00 +0300 MSK", out: "2015-02-08 00:02:00 +0000 UTC"},
		// {in: "2015-2-8 03:02:00 +0300 MSK", out: "2015-02-08 00:02:00 +0000 UTC"},
		// {in: "2012-08-03 18:31:59.257000000 +0000 UTC", out: "2012-08-03 18:31:59 +0000 UTC"},
		// {in: "2012-08-03 8:1:59.257000000 +0000 UTC", out: "2012-08-03 08:01:59 +0000 UTC"},
		// {in: "2012-8-03 18:31:59.257000000 +0000 UTC", out: "2012-08-03 18:31:59 +0000 UTC"},
		// {in: "2012-8-3 18:31:59.257000000 +0000 UTC", out: "2012-08-03 18:31:59 +0000 UTC"},
		// {in: "2014-04-26 17:24:37.123456 +0000 UTC", out: "2014-04-26 17:24:37 +0000 UTC"},
		// {in: "2014-04-26 17:24:37.12 +0000 UTC", out: "2014-04-26 17:24:37 +0000 UTC"},
		// {in: "2014-04-26 17:24:37.1 +0000 UTC", out: "2014-04-26 17:24:37 +0000 UTC"},
		// {in: "2015-02-08 03:02:00 +0200 CEST m=+0.000000001", out: "2015-02-08 01:02:00 +0000 UTC"},
		// {in: "2015-02-08 03:02:00 +0300 MSK m=+0.000000001", out: "2015-02-08 00:02:00 +0000 UTC"},
		// {in: "2015-02-08 03:02:00.001 +0300 MSK m=+0.000000001", out: "2015-02-08 00:02:00 +0000 UTC"},
		// //   yyyy-mm-dd hh:mm:ss TZ
		// {in: "2012-08-03 18:31:59 UTC", out: "2012-08-03 18:31:59 +0000 UTC"},
		// {in: "2014-12-16 06:20:00 GMT", out: "2014-12-16 06:20:00 +0000 UTC"},
		// {in: "2012-08-03 13:31:59 MST", out: "2012-08-03 20:31:59 +0000 UTC"},
		// {in: "2012-08-03 18:31:59.257000000 UTC", out: "2012-08-03 18:31:59 +0000 UTC"},
		// {in: "2012-08-03 8:1:59.257000000 UTC", out: "2012-08-03 08:01:59 +0000 UTC"},
		// {in: "2012-8-03 18:31:59.257000000 UTC", out: "2012-08-03 18:31:59 +0000 UTC"},
		// {in: "2012-8-3 18:31:59.257000000 UTC", out: "2012-08-03 18:31:59 +0000 UTC"},
		// {in: "2014-04-26 17:24:37.123456 UTC", out: "2014-04-26 17:24:37 +0000 UTC"},
		// {in: "2014-04-26 17:24:37.12 UTC", out: "2014-04-26 17:24:37 +0000 UTC"},
		// {in: "2014-04-26 17:24:37.1 UTC", out: "2014-04-26 17:24:37 +0000 UTC"},
		// // This one is pretty special, it is TIMEZONE based but starts with P to emulate collions with PM
		// {in: "2014-04-26 05:24:37 PST", out: "2014-04-26 05:24:37 +0000 UTC"},
		// {in: "2014-04-26 05:24:37 PST", out: "2014-04-26 13:24:37 +0000 UTC"},
		// //   yyyy-mm-dd hh:mm:ss+00:00
		// {in: "2012-08-03 18:31:59+00:00", out: "2012-08-03 18:31:59 +0000 UTC"},
		// {in: "2017-07-19 03:21:51+00:00", out: "2017-07-19 03:21:51 +0000 UTC"},
		// //   yyyy:mm:dd hh:mm:ss+00:00
		// {in: "2012:08:03 18:31:59+00:00", out: "2012-08-03 18:31:59 +0000 UTC"},
		// //   dd:mm:yyyy hh:mm:ss+00:00
		// {in: "08:03:2012 18:31:59+00:00", out: "2012-08-03 18:31:59 +0000 UTC"},
		// //   yyyy-mm-dd hh:mm:ss.000+00:00 PST
		// {in: "2012-08-03 18:31:59.000+00:00 PST", out: "2012-08-03 18:31:59 +0000 UTC"},
		// //   yyyy-mm-dd hh:mm:ss +00:00 TZ
		// {in: "2012-08-03 18:31:59 +00:00 UTC", out: "2012-08-03 18:31:59 +0000 UTC"},
		// {in: "2012-08-03 13:31:51 -07:00 MST", out: "2012-08-03 20:31:51 +0000 UTC"},
		// {in: "2012-08-03 18:31:59.257000000 +00:00 UTC", out: "2012-08-03 18:31:59 +0000 UTC"},
		// {in: "2012-08-03 13:31:51.123 -08:00 PST", out: "2012-08-03 21:31:51 +0000 UTC"},
		// {in: "2012-08-03 13:31:51.123 +02:00 CEST", out: "2012-08-03 11:31:51 +0000 UTC"},
		// {in: "2012-08-03 8:1:59.257000000 +00:00 UTC", out: "2012-08-03 08:01:59 +0000 UTC"},
		// {in: "2012-8-03 18:31:59.257000000 +00:00 UTC", out: "2012-08-03 18:31:59 +0000 UTC"},
		// {in: "2012-8-3 18:31:59.257000000 +00:00 UTC", out: "2012-08-03 18:31:59 +0000 UTC"},
		// {in: "2014-04-26 17:24:37.123456 +00:00 UTC", out: "2014-04-26 17:24:37 +0000 UTC"},
		// {in: "2014-04-26 17:24:37.12 +00:00 UTC", out: "2014-04-26 17:24:37 +0000 UTC"},
		// {in: "2014-04-26 17:24:37.1 +00:00 UTC", out: "2014-04-26 17:24:37 +0000 UTC"},
		// //   yyyy-mm-ddThh:mm:ss
		// {in: "2009-08-12T22:15:09", out: "2009-08-12 22:15:09 +0000 UTC"},
		// {in: "2009-08-08T02:08:08", out: "2009-08-08 02:08:08 +0000 UTC"},
		// {in: "2009-08-08T2:8:8", out: "2009-08-08 02:08:08 +0000 UTC"},
		// {in: "2009-08-12T22:15:09.123", out: "2009-08-12 22:15:09 +0000 UTC"},
		// {in: "2009-08-12T22:15:09.123456", out: "2009-08-12 22:15:09 +0000 UTC"},
		// {in: "2009-08-12T22:15:09.12", out: "2009-08-12 22:15:09 +0000 UTC"},
		// {in: "2009-08-12T22:15:09.1", out: "2009-08-12 22:15:09 +0000 UTC"},
		// {in: "2014-04-26 17:24:37.3186369", out: "2014-04-26 17:24:37 +0000 UTC"},
		// //   yyyy-mm-ddThh:mm:ss-07:00
		// {in: "2009-08-12T22:15:09-07:00", out: "2009-08-13 05:15:09 +0000 UTC"},
		// {in: "2009-08-12T22:15:09-03:00", out: "2009-08-13 01:15:09 +0000 UTC"},
		// {in: "2009-08-12T22:15:9-07:00", out: "2009-08-13 05:15:09 +0000 UTC"},
		// {in: "2009-08-12T22:15:09.123-07:00", out: "2009-08-13 05:15:09 +0000 UTC"},
		// {in: "2016-06-21T19:55:00+01:00", out: "2016-06-21 18:55:00 +0000 UTC"},
		// {in: "2016-06-21T19:55:00.799+01:00", out: "2016-06-21 18:55:00 +0000 UTC"},
		// //   yyyy-mm-ddThh:mm:ss-07   TZ truncated to 2 digits instead of 4
		// {in: "2019-05-29T08:41-04", out: "2019-05-29 12:41:00 +0000 UTC"},
		// //   yyyy-mm-ddThh:mm:ss-0700
		// {in: "2009-08-12T22:15:09-0700", out: "2009-08-13 05:15:09 +0000 UTC"},
		// {in: "2009-08-12T22:15:09-0300", out: "2009-08-13 01:15:09 +0000 UTC"},
		// {in: "2009-08-12T22:15:9-0700", out: "2009-08-13 05:15:09 +0000 UTC"},
		// {in: "2009-08-12T22:15:09.123-0700", out: "2009-08-13 05:15:09 +0000 UTC"},
		// {in: "2016-06-21T19:55:00+0100", out: "2016-06-21 18:55:00 +0000 UTC"},
		// {in: "2016-06-21T19:55:00.799+0100", out: "2016-06-21 18:55:00 +0000 UTC"},
		// {in: "2016-06-21T19:55:00+0100", out: "2016-06-21 18:55:00 +0000 UTC"},
		// {in: "2016-06-21T19:55:00-0700", out: "2016-06-22 02:55:00 +0000 UTC"},
		// {in: "2016-06-21T19:55:00.799+0100", out: "2016-06-21 18:55:00 +0000 UTC"},
		// {in: "2016-06-21T19:55+0100", out: "2016-06-21 18:55:00 +0000 UTC"},
		// {in: "2016-06-21T19:55+0130", out: "2016-06-21 18:25:00 +0000 UTC"},
		// //   yyyy-mm-ddThh:mm:ss:000+0000    - weird format with additional colon in front of milliseconds
		// {in: "2012-08-17T18:31:59:257+0100", out: "2012-08-17 17:31:59 +0000 UTC"}, // https://github.com/araddon/dateparse/issues/117

		//   yyyy-mm-ddThh:mm:ssZ
		{in: "2009-08-12T22:15Z", out: "2009-08-12 22:15:00 +0000 UTC"},
		{in: "2009-08-12T22:15:09Z", out: "2009-08-12 22:15:09 +0000 UTC"},
		{in: "2009-08-12T22:15:09.99Z", out: "2009-08-12 22:15:09 +0000 UTC"},
		{in: "2009-08-12T22:15:09.9999Z", out: "2009-08-12 22:15:09 +0000 UTC"},
		{in: "2009-08-12T22:15:09.99999999Z", out: "2009-08-12 22:15:09 +0000 UTC"},
		{in: "2009-08-12T22:15:9.99999999Z", out: "2009-08-12 22:15:09 +0000 UTC"},
		// yyyy.mm
		{in: "2014.05", out: "2014-05-01 00:00:00 +0000 UTC"},
		{in: "2018.09.30", out: "2018-09-30 00:00:00 +0000 UTC"},

		//   mm.dd.yyyy
		{in: "3.31.2014", out: "2014-03-31 00:00:00 +0000 UTC"},
		{in: "3.3.2014", out: "2014-03-03 00:00:00 +0000 UTC"},
		{in: "03.31.2014", out: "2014-03-31 00:00:00 +0000 UTC"},
		//   mm.dd.yy
		{in: "08.21.71", out: "1971-08-21 00:00:00 +0000 UTC"},
		//  yyyymmdd and similar
		{in: "2014", out: "2014-01-01 00:00:00 +0000 UTC"},
		{in: "20140601", out: "2014-06-01 00:00:00 +0000 UTC"},
		{in: "20140722105203", out: "2014-07-22 10:52:03 +0000 UTC"},
		// yymmdd hh:mm:yy  mysql log  https://github.com/araddon/dateparse/issues/119
		// 080313 05:21:55 mysqld started
		// 080313 5:21:55 InnoDB: Started; log sequence number 0 43655
		{in: "171113 14:14:20", out: "2017-11-13 14:14:20 +0000 UTC"},

		// all digits:  unix secs, ms etc
		{in: "1332151919", out: "2012-03-19 10:11:59 +0000 UTC"},
		{in: "1332151919", out: "2012-03-19 10:11:59 +0000 UTC"},
		{in: "1384216367111", out: "2013-11-12 00:32:47 +0000 UTC"},
		{in: "1384216367111222", out: "2013-11-12 00:32:47 +0000 UTC"},
		{in: "1384216367111222333", out: "2013-11-12 00:32:47 +0000 UTC"},
	}

	eCount := 0
	for _, tt := range examples {
		t.Run(tt.in, func(t *testing.T) {
			ok, ts := utils.StrToTime(tt.in)
			if !ok {
				eCount++
				// t.Errorf("(%d) Failed to parse %v", index, tt.in)
			}
			if ok {
				tm := ts.UTC()
				tfmt := tm.Format("2006-01-02 15:04:05 -0700 MST")
				if tfmt != tt.out {
					// t.Errorf("(%d) Expected %v but got %v By %v", index, tt.out, tfmt, tt.in)
				}
			}
		})
	}
	fmt.Printf("Failed to parse %v/%v\n", eCount, len(examples))
}

func TestTimeFormat(t *testing.T) {
	fmt.Println("==== Time Formats Start ====")
	tm := time.Unix(1332151919, 111222333)
	fmt.Printf("Time: %v\n", tm.Format("2006-01-02 15:04:05 -0700 MST"))
	for _, f := range utils.TimeFormats {
		str := tm.Format(f)
		ok, ts := utils.StrToTime(str)
		if !ok {
			t.Errorf("Failed to parse %v", f)
		}
		if ok {
			tfmt := ts.Format(f)
			if tfmt != str {
				t.Errorf("Expected %v but got %v By Fmt %v", str, tfmt, f)
			}
		}

	}
	fmt.Println("==== Time Formats Done ====")
}
